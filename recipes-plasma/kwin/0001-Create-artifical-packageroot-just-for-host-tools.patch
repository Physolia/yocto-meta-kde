From 003f4cadb98791e300fdefc2097a1b90bff241ce Mon Sep 17 00:00:00 2001
From: Andreas Cord-Landwehr <cordlandwehr@kde.org>
Date: Sat, 19 Feb 2022 17:24:42 +0100
Subject: [PATCH] Create artifical packageroot just for host tools

---
 src/effects/CMakeLists.txt | 34 ++++++++++++++++++++++++
 1 file changed, 34 insertions(+)

diff --git a/src/effects/CMakeLists.txt b/src/effects/CMakeLists.txt
index 9d06969..507955a 100644
--- a/src/effects/CMakeLists.txt
+++ b/src/effects/CMakeLists.txt
@@ -1,3 +1,37 @@
+cmake_minimum_required(VERSION 3.16)
+
+set(PROJECT_VERSION "5.24.0") # Handled by release scripts
+project(KWin VERSION ${PROJECT_VERSION})
+
+set(CMAKE_C_STANDARD 99)
+
+set(QT_MIN_VERSION "5.15.0")
+set(KF5_MIN_VERSION "5.89")
+set(KDE_COMPILERSETTINGS_LEVEL "5.82")
+
+find_package(ECM ${KF5_MIN_VERSION} REQUIRED NO_MODULE)
+
+include(FeatureSummary)
+include(WriteBasicConfigVersionFile)
+include(GenerateExportHeader)
+
+# where to look first for cmake modules, before ${CMAKE_ROOT}/Modules/ is checked
+set(CMAKE_MODULE_PATH ${CMAKE_CURRENT_SOURCE_DIR}/cmake/modules ${ECM_MODULE_PATH})
+
+find_package(Qt5 5.15 CONFIG REQUIRED COMPONENTS
+    Core
+)
+find_package(KF5 REQUIRED COMPONENTS Package Config I18n)
+include(KDEInstallDirs)
+include(KDECMakeSettings)
+include(KDECompilerSettings NO_POLICY_SCOPE)
+include(KDEClangFormat)
+
+include(ECMInstallIcons)
+include(ECMOptionalAddSubdirectory)
+include(ECMConfiguredInstall)
+include(ECMQtDeclareLoggingCategory)
+
 # KI18N Translation Domain for this library
 add_definitions(-DTRANSLATION_DOMAIN=\"kwin_effects\" -DEFFECT_BUILTINS)

-- 
2.32.0

